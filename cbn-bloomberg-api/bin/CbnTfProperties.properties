# ============================================================================
# Bloomberg Trade Finance Integration Configuration
# ============================================================================
# Purpose     : Centralized configuration for Bloomberg TF integration
# Author      : CSD Development Team
# Created     : 2026-01-22
# Modified    : 2026-02-04
# Environment : DEV | UAT | PROD (update per deployment)
# ============================================================================

# ============================================================================
# ADAPTER CONFIGURATION
# ============================================================================
# Adapter mode: FILE (NFS directory polling) or WMQ (IBM MQ messaging)
tf.def.adapter=WMQ

# ============================================================================
# IBM MQ CONNECTION SETTINGS
# ============================================================================

# --- Host Configuration ---
tf.wmq.host=172.24.48.214
tf.wmq.port=1414

# --- Queue Manager & Channel ---
tf.wmq.manager=QM_T24_BLOOMBERG
tf.wmq.channel=T24.CLIENT.SVRCONN

# --- Authentication ---
# Leave blank for no-auth mode (uses MCAUSER mapping)
# For production, populate with service account credentials
tf.wmq.username=
tf.wmq.password=

# --- Queue Names ---
tf.wmq.inbound.queue=T24.Q.IN
tf.wmq.outbound.queue=BLOOMBERG.OUT

# --- Message Handling ---
# Acknowledgment mode: auto | manual
# - auto  : Messages acknowledged immediately on receive
# - manual: Messages acknowledged after successful T24 processing
tf.wmq.ackledge=auto

# --- Timeouts (milliseconds) ---
tf.wmq.receive.timeout=30000
tf.wmq.connection.timeout=60000

# --- Retry Configuration ---
tf.wmq.retry.attempts=3
tf.wmq.retry.delay=5000

# ============================================================================
# FILE ADAPTER SETTINGS (NFS/Directory Mode)
# ============================================================================

# --- Base Directory ---
# Windows: D:\\Temenos\\R24\\bnk\\UD\\BLOOMBERG
# Linux  : /app/temenos/R24/bnk/UD/BLOOMBERG
tf.nfs.basedir=/t24app/app/bnk/UD/BLOOMBERG/


# --- File Pattern ---
tf.nfs.pattern=*.json

# --- Directory Paths (supports ${variable} substitution) ---
tf.nfs.inbound.dir=/t24app/app/bnk/UD/BLOOMBERG/IN/TF
tf.nfs.outbound.dir=/t24app/app/bnk/UD/BLOOMBERG/OUT/TF
tf.nfs.done.dir=/t24app/app/bnk/UD/BLOOMBERG/DONE/TF
tf.nfs.error.dir=/t24app/app/bnk/UD/BLOOMBERG/ERROR/TF
tf.nfs.backup.dir=/t24app/app/bnk/UD/BLOOMBERG/BACKUP
# ============================================================================
# OFS COMMON CONFIGURATION
# ============================================================================

# OFS Source ID (must exist in OFS.SOURCE table)
tf.ofs.source=OFS.BMRG

# OFS Function: INPUT | AUTHORISE | REVERSE | DELETE
tf.ofs.function=INPUT

# ============================================================================
# OFS VERSION MAPPINGS BY MODULE
# ============================================================================
# Naming Convention:
#   tf.ofs.version.<module><type>
#   - module: ft, fx, pr, pd, sc, st
#   - type  : df (default), td (trade), sd (bksd), etc.
# ============================================================================

# --- 1. FT: Funds Transfer ---
tf.ofs.version.ftdf=FUNDS.TRANSFER,AC
tf.ofs.version.ftsd=FUNDS.TRANSFER,CBN.BKSD.FMD

# --- 2. FX: Foreign Exchange ---
tf.ofs.version.fxdf=FOREX,RAD
tf.ofs.version.fxsp=FOREX,SPOTDEAL
tf.ofs.version.fxsw=FOREX,FX.SWAP
tf.ofs.version.fxfw=FOREX,FORWARDDEAL
tf.ofs.version.fxdt=FX.CBN.BKSD.REQUEST,RAD
tf.ofs.version.fxsd=FX.CBN.BKSD.REQUEST,BKSD.REQ

# --- 3. PR: Repo Placement ---
tf.ofs.version.prdf=EB.CBN.REPO.PLACEMENT,RAD
tf.ofs.version.prtd=EB.CBN.REPO.PLACEMENT,CBN.REPO

# --- 4. PD: Placement Deposit ---
tf.ofs.version.pddf=EB.CBN.PLACEMENT.DEPOSIT,RAD
tf.ofs.version.pdtd=EB.CBN.PLACEMENT.DEPOSIT,CBN
tf.ofs.version.pdfng=EB.CBN.PLACEMENT.DEPOSIT,FGN

# --- 5. SC: Security Master (Static Reference Data) ---
tf.ofs.version.scdf=SECURITY.MASTER,RAD
tf.ofs.version.sctd=SECURITY.MASTER,CBN

# --- 6. ST: Security Trade (Trading Transactions) ---
tf.ofs.version.stdf=SEC.TRADE,RAD
tf.ofs.version.sttd=SEC.TRADE,CBN

# ============================================================================
# LOGGING & MONITORING (Optional)
# ============================================================================

# Log level: DEBUG | INFO | WARN | ERROR
#tf.log.level=INFO

# Enable transaction audit logging
#tf.audit.enabled=true

# Metrics export (for monitoring dashboards)
#tf.metrics.enabled=false
#tf.metrics.endpoint=http://localhost:9090/metrics

# ============================================================================
# END OF CONFIGURATION
# ============================================================================
